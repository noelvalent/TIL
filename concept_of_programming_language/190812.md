# 부프로그램 기타

## 부프로그램 매개변수

부프로그램이 매개변수로 전달되면, 아주 편리하게 처리되는 여러 프로그래밍 상황이 발생한다.

부프로그램 이름이 다른 부프로그램의 매개변수로 전달되는 경우 설계시 고려사항
매개변수로 전달된 부프로그램의 매개변수 타입이 검사되는가?
=> 매개변수로 전달되는 부프로그램의 매개변수 타입이 함께 전달되어야 함

매개변수로 전달된 부프로그램의 참조 환경은 무엇인가?
=> 중첩 부프로그램을 허용하는 언어에서 발생

### 매개변수로 전달된 부프로그램의 참조 환경의 3가지 유형
전달된 부프로그램을 실행시키는 호출문의 환경 => 피상 바인딩(shallow binding)
전달된 부프로그램의 정의 환경 => 심층 바인딩(deep binding)
부프로그램을 실 매개변수로 전달한 호출문의 환경 => 특이 바인딩(ad hoc binding)

평가
심층 바인딩은 정적 영역언어에 적합하다.
피상 바인딩은 동적 영역언어에 적합하다.
특이 바인딩은 사용되지 않는다.

## 중복 연산자
여러가지 의미를 갖는 연산자
중복연산자의 의미는 피연산자의 타입에 의해서 결정

사용자 정의 중복 연산자
- 사용자가 연산자에 새로운 의미를 추가로 중복시키는 것을 허용
- C++, Ada에서 허용되나 Java에서는 허용되지 않음
- Ada에서는 내장 연산자 의미를 재정의 가능하나, C++에서는 가능하지 않다.
- 연산자 결함규칙, 우선순위등 연산자의 구문적 특성은 유지된다.

평가
1. 의미상 연관없거나 별개의 것을 중복시키면 혼란을 초해하므로 분별있게 사용 필요
2. 소프트웨어의 여러 모듈들이 같은 연산자를 다른의미로 중복시켰다면, 모듈 통합전에 중복된 연산자의 의미를 통일 시키는 것이 필요
3. 연산자 중복을 얼마나 많이 사용할 것인지의 여부는 가독성과 연관 고려

## 함수의 설계 고려사함 
1. 부작용(side-effect)이 허용되는가
2. 어떤 타입의 값이 반환되는가

### 문장부작용(side-effect)
문장의 실행 결과로, 문장 실행 후에도 유지되는 변수의 값 변경으로 정의
  배정문은 명시적으로 의도된 부작용으로 해롭지 않다.
  실행 문장에 포함되지 않은 변수의 변경을 초해하는 부작용은 해롭다.
  
### 함수의 부작용
함수의 부작용은 함수가 자신의 매개변수나 비 지역 변수를 변경할 때 발생
매개변수가 입출력 모드이면 함수 부작용 발생 가능

### 함수 부작용과 참조 투명성
프로그램에서 동일한 값을 갖는 임의 2개 식이 프로그램 행동에 영향을 미치지 않으면서 
프로그램의 임의 장소에서 서로 다른 식으로 대체될 수 있다면, 
프로그램은 참조 추명성(referential trasparency)의 특성을 갖는다.

### 함수가 참조 투명하면
- 함수의 값은 오직 그 매개변수에 종속된다.
- 함수의 매개변수가 동일하면, 함수는 항상 동일한 값을 반환한다.
함수 부작용이 발생하면, 프로그램은 참조 투명하지 않는다.

### 함수의 반환 값 타입
대부분의 명령형 언어는 함수에 의해서 반환되는 값의 타입을 제한한다.
- C 배열과 함수를 제외한 모든 타입 가능
- C++ C와 유사하나 클래스 타입 가능
- Ada 모든 타입이 가능 (함수는 타입이 아니므로 반환불가)
- Java, C# 임의 타입과 클래스 반환 가능 (메소드는 타입이 아니므로 반환 불가)

