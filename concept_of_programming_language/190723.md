# 구문구조

## 모호한 문법

주어진 문장에 대한 두 개 이상의 파스트리가 가능

## 모호한 문법 해결하기

1. 문법 수정
   모호함이 발생하지 않도록 문법을 다시 작성한다.
   Ex1) 어느 문법을 우선 할 것인지 설정
   Ex2) 어디까지가 특정 구문인지 구별을 할 수 있게 설정
2. 추가 조건을 부가
   - 우선 순위 : 두 개 이상의 연산자가 있을 경우 우선시 할 연산 설정
   - 결합성 : 한쪽으로 우선적으로 결합되게 한다.
   - Pair : 시작과 끝이 짝을 이루게 한다.

## EBNF(Extended BNF)

BNF 표기법에 다양한 매크로를 추가하여 편리하게 사용할 수 있도록 함

- 반복 {} : 0번 또는 그 이상
- 옵션 [] : 한 번 나오거나 나오지 않음을 의미
- 다중선택 () : 여러 개에서 하나를 선택함

## 추상구문트리 (Abstract Syntax Tree)

파스트리(구체구문트리)는 문장의 유도과정이 모두 들어있어서 추후의 다른 작업을 하기에 복잡하다.

- 넌터미널 기호들을 제거
- 터미널로만 이루어진 표현으로 간략화
- 연산자는 중간 노드나 루트 역할을 한다.
- 피연산자는 터미널 노드 또는 하위 트리를 구성한다.

## 언어의 문류

인식 기계: 주어진 문장을 주어진 언어에 속하는지를 자동으로 결정하는 알고리즘

- 자동기계(automata)라고 불리는 특수한 알고리즘
- 언어의 분류에 따라서 다른 형태의 자동기계가 사용됨
- 언어의 분류는 문법의 분류에 근거함

문법 분류

Chomsky의 분류

가정

- A, B ∈ N
- a ∈ T
- 𝞪, 𝞫, 𝞬 ∈ (N ∪ T)*

타입 0 : 무제한 문법 (Unrestricted Grammar)
Ex) 𝞪 -> 𝞫
생성규칙 형태에 제한이 없음

타입 1 :  문맥 민감 문법 (Context Sensitive Grammar)
Ex) 𝞪A𝞫 -> 𝞪𝞬𝞫
𝞪와 𝞫에 둘러싸였을 때만 A를 𝞬로 대치할 수 있음

타입 2 : 문맥 자유 문법 (Context Free Grammar)
Ex) A ->  𝞪
언제든지 A를 𝞪로 대치할 수 있음

타입 3 : 정규 문법 (Regular Grammar)
A -> a | Ba
A를 단 하나의 터미널이나 넌터미널 하나와 터미널 하나로 된 문장형태로 대치할 수 있음

타입 i+1는 타입 i의 특수한 형태임.
따라서 단계적인 포함 관계를 가진다.
3 ⊆ 2 ⊆ 1 ⊆ 0

| 문법                     | 언어                                            | 자동기계                                       |
| ------------------------ | ----------------------------------------------- | ---------------------------------------------- |
| 타입 0 : 무제한 문법     | 재귀나열 언어 (Recursively Enumerable Language) | 튜링 기계 (Turing Machine)                     |
| 타입 1 :  문맥 민감 문법 | 문맥민감 언어 (Context-Sensitive Language)      | 선형 바운드 오토마타 (Linear-Bounded Automata) |
| 타입 2 : 문맥 자유 문법  | 문맥자유 언어 (Context-Free Language)           | 푸쉬다운 오토마타 (Push-Down Automata)         |
| 타입 3 : 정규 문법       | 정규 언어 (Regular Language)                    | 유한 상태 기계 (Finite State Machine)          |

## 프로그래밍 언어의 구문 분석

- 프로그래밍 언어의 문법은 정규 문법과 문맥자유문법이면 표현하기 충분함
- 프로그래밍 언어의 구문 분석은 유한 상태 기계와 푸쉬다운 오토마타를 이용

컴파일러의 구문구조 분석 단계

1. 어휘 분석 (Lexical Analysis, Scanning) : 프로그램 어휘들을 정규 문법으로 표현하고 유한 상태 기계로 인식함
2. 구문 분석 (Syntactic Analysis, Parsing) : 프로그램 구조를 문맥자유 문법으로 표현하고 푸쉬다운 오토마타로 인식함
