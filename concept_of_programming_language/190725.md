# 변수의 바인딩

## 바인딩

개체에 어떤 속성을 맺어주는 것

- Int age : 타입 바인딩
- Age=19 : 값 바인딩

### 연산자의 바인딩

- 기호(Symbol)에 연산(Operation)의 의미를 맺어주는 것

### 바인딩 시점 (Binding Time)

- 바인딩이 이루어지는 시점
- 바인딩 되는 속성에 따라 바인딩 시점이 다르다.

### 정적 바인딩 (Static Binding)

- 프로그래밍언어를 설계할 때
  - 연산자 기호
- 프로그래밍언어를 구현할 때 (compile/interpreter를 작성할 때)
  - 정수형 값의 범위
  - 실수형의 표현
- 프로그램을 Compile할 때
  - 변수의 타입
- 프로그램을 메모리에 : Load할 때
  - 전역변수의 주소
  - static 변수의 주소

특성

- 최초의 바인딩이 프로그램 실행하기 전에 이루어진다.
- 한번 바인딩이 이루어진 속성은 프로그램이 종료될 때까지 변하지 않는다.

### 동적 바인딩 (Dynamic Binding)

- 프로그램을 실행할 때
  - static이 아닌 지역변수의 주소
  - 부프로그램의 인자의 주소
  - 동적으로 할당된 기억장소의 주소

특성

- 최초의 바인딩이 프로그램 실행하는 동안 이루어진다.
- 한번 바인딩이 이루어진 속성이 프로그램 실행 과정에서 다시 발생하는 바인딩에 의해서 다른 속성으로 변할 수 있다.

## 변수의 타입바인딩

타입이 지정되는 방법

1. 명시적 선언 (explicit declaration)
2. 묵시적 선언 (implicit declaration)
3. 값(value)의 배정 (assignment)
4. 타입 추론 (type inference)

시점

|          | 정적 static                         | 동적 dynamic          |
| -------- | ----------------------------------- | --------------------- |
| 시점     | Compile할 때                        | 실행할 때             |
| 선언방법 | 대부분 명시적 또는 묵시적 선언 방법 | 대부분 값의 배정 방법 |

### 1. 명시적 선언 (explicit declaration)

변수의 타입을 지정하는 선언문에 의해서 타입이 지정된다.

- 장점: 신뢰성 향상

### 2. 묵시적 선언 (implicit declaration)

언어 설계 시 정의된 규칙에 의해서 변수의 타입이 지정된다.

- 장점: 작성력 향상
- 단점: 신뢰성 하락

### 3. 값(value)의 배정 (assignment)

자바스크립트나 파이썬

- 장점: 유연성(flexibility) 향상
- 단점: 프로그램 실행 비용 증가, 타입오류를 발견하기 어려움

### 4. 타입 추론 (type inference)

변수가 사용된 주변 상황에 의해서 타입이 지정된다. Ex)swift

- 주로 함수형 언어에서 적용된다

## 변수의 부류 (Category)

변수의 기억장소 바인딩과 관련된 주제

- 기억장소 할당 (Allocation) : 사용되지 않고 있는 기억장소에서 변수 타입의 크기만큼의 공간을 변수에 할당함.
- 변수의 존속기간 (Lifetime) : 변수에 기억장소가 할당되는 시점부터 반환되는 시점까지의 기간
- 기억장소 반환 (Deallocation) : 변수에 할당된 기억장소를 사용되지 않는 공간으로 반환함. 

변수의 존속기간에 따른 Scalar 변수의 부류

- 정적(static) 변수
- 스택-동적(stack-dynamic) 변수
- 명시적 힙-동적 (Explicit heap-dynamic) 변수
- 묵시적 힙-동적 (Implicit heap-dynamic) 변수

|           |
| --------- |
| 정적영역  |
| Stack영역 |
| Heap영역  |
|           |

정적(Static) 변수

- 프로그램이 종료될 때까지 유지됨
- 장점
  - 실행의 효율성
    - 변수에 직접 접근 가능 (Direct Addressing)
    - 기억장소의 할당 및 반환 시간이 필요 없음.
  - 부프로그램에서 과거-민감(history-sensitive) 변수 지원
- 단점
  - 재귀적 부프로그램 작성이 불가능함.
  - 지역변수들 사이에 기억장소를 공용할 수 없음.

스택-동적(stack-dynamic) 변수

- 변수 선언문이 활성화될 때 
- Scalar 변수의 경우, 다른 속성은 정적으로 바인딩 되기도 한다.
- 장점
  - 재귀적 부프로그램 작성이 가능함
  - 지역변수들 사이에 기억장소를 공용할 수 있음
- 단점
  - 프로그램 실행 시간의 증가
    - 변수에 간접적으로 접근해야됨.
  - 부프로그램에서  과거-민감(history-sensitive) 변수 를 이용할 수 없음

명시적 힙-동적 (Explicit heap-dynamic) 변수

- 기억장소를 할당하는 문장을 실행할 때 heap영역의 기억장소가 바인딩 되고, 반환하는 문장을 실행할 때 반환된다.
- Pointer나 참조 변수를 통해서 접근할 수 있다.
- Linked-list나 tree와 같이 프로그램 실행 중에 크기가 커지거나 줄어드는 경우에 사용된다.
- 장점
  - 필요에 따라 기억공간을 효율적으로 관리하면 사용할 수 있다.
- 단점
  - Pointer나 참조변수를 올바르게 사용하기 어려움 = 신뢰성 저하
  - 기억장소의 동적 할당 및 반환에 필요한 실행시간 증가

묵시적 힙-동적 (Implicit heap-dynamic) 변수

- 배정문(assignment statement)을 실행할 때 기억장소가 바인딩됨
- 쓸모가 없어진 기억장소는 보통 시스템에 의한 Garbage Collection을 통해 반환된다.
- 장점
  - 유연성 향상
- 단점
  - 기억장소의 동적 할당 및 반환에 필요한 실행시간 증가
  - Compile할 때 오류를 검출할 수 없다.

## 이름 상수 (Named Constant)

변수 이름에 기억장소 바인딩이 이루어질 때, 값 바인딩이 동시에 이루어진다.

한번 바인딩 된 값은 변경될 수 없다.

바인딩 방법에 따른 이름상수의 분류

- 정적 바인딩에 의한 이름상수 : 정적으로 값 바인딩이 이루어짐 (명확 상수 (manifest constant)라고 부른다.)
- 동적 바인딩에 의한 이름상수 : 동적으로 값 바인딩이 이루어짐
- 장점 : 가독성 및 신뢰성 향상
